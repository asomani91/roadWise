{"ast":null,"code":"import _objectSpread from \"/Users/ankitsomani/Desktop/Projects/roadWise/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/ankitsomani/Desktop/Projects/roadWise/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/ankitsomani/Desktop/Projects/roadWise/client/src/pages/Dashboard.js\";\nimport React, { useState, useEffect } from \"react\";\nimport DeleteBtn from \"../components/DeleteBtn\";\nimport Jumbotron from \"../components/Jumbotron\";\nimport API from \"../utils/API\";\nimport { Link } from \"react-router-dom\";\nimport { Col, Row, Container } from \"../components/Grid\";\nimport { List, ListItem } from \"../components/List\";\nimport { Input, TextArea, FormBtn } from \"../components/Form\";\n\nfunction Dashboard() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      formObject = _useState4[0],\n      setFormObject = _useState4[1];\n\n  useEffect(function () {\n    loadUser();\n  }, []);\n\n  function loadUser() {\n    API.getUser().then(function (res) {\n      return setUser(res.data);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  }\n\n  ;\n\n  function deleteBook(id) {\n    API.deleteBook(id).then(function (res) {\n      return loadBooks();\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  }\n\n  function handleInputChange(event) {\n    var _event$target = event.target,\n        name = _event$target.name,\n        value = _event$target.value;\n    setFormObject(_objectSpread(_objectSpread({}, formObject), {}, {\n      [name]: value\n    }));\n  }\n\n  ;\n\n  function handleFormSubmit(event) {\n    event.preventDefault();\n\n    if (formObject.title && formObject.author) {\n      API.saveBook({\n        title: formObject.title,\n        author: formObject.author,\n        synopsis: formObject.synopsis\n      }).then(function (res) {\n        return loadBooks();\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }\n\n  ;\n  return /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  });\n}\n\nexport default Dashboard;","map":{"version":3,"sources":["/Users/ankitsomani/Desktop/Projects/roadWise/client/src/pages/Dashboard.js"],"names":["React","useState","useEffect","DeleteBtn","Jumbotron","API","Link","Col","Row","Container","List","ListItem","Input","TextArea","FormBtn","Dashboard","user","setUser","formObject","setFormObject","loadUser","getUser","then","res","data","catch","err","console","log","deleteBook","id","loadBooks","handleInputChange","event","target","name","value","handleFormSubmit","preventDefault","title","author","saveBook","synopsis"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,GAAT,EAAcC,GAAd,EAAmBC,SAAnB,QAAoC,oBAApC;AACA,SAASC,IAAT,EAAeC,QAAf,QAA+B,oBAA/B;AACA,SAASC,KAAT,EAAgBC,QAAhB,EAA0BC,OAA1B,QAAyC,oBAAzC;;AAEA,SAASC,SAAT,GAAqB;AAAA,kBACKd,QAAQ,CAAC,EAAD,CADb;AAAA;AAAA,MACZe,IADY;AAAA,MACNC,OADM;;AAAA,mBAEiBhB,QAAQ,CAAC,EAAD,CAFzB;AAAA;AAAA,MAEZiB,UAFY;AAAA,MAEAC,aAFA;;AAInBjB,EAAAA,SAAS,CAAC,YAAM;AACdkB,IAAAA,QAAQ;AACT,GAFQ,EAEN,EAFM,CAAT;;AAIA,WAASA,QAAT,GAAoB;AAClBf,IAAAA,GAAG,CAACgB,OAAJ,GACGC,IADH,CACQ,UAAAC,GAAG;AAAA,aACPN,OAAO,CAACM,GAAG,CAACC,IAAL,CADA;AAAA,KADX,EAIGC,KAJH,CAIS,UAAAC,GAAG;AAAA,aAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ;AAAA,KAJZ;AAKD;;AAAA;;AAED,WAASG,UAAT,CAAoBC,EAApB,EAAwB;AACtBzB,IAAAA,GAAG,CAACwB,UAAJ,CAAeC,EAAf,EACGR,IADH,CACQ,UAAAC,GAAG;AAAA,aAAIQ,SAAS,EAAb;AAAA,KADX,EAEGN,KAFH,CAES,UAAAC,GAAG;AAAA,aAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ;AAAA,KAFZ;AAGD;;AAED,WAASM,iBAAT,CAA2BC,KAA3B,EAAkC;AAAA,wBACRA,KAAK,CAACC,MADE;AAAA,QACxBC,IADwB,iBACxBA,IADwB;AAAA,QAClBC,KADkB,iBAClBA,KADkB;AAEhCjB,IAAAA,aAAa,iCAAKD,UAAL;AAAiB,OAACiB,IAAD,GAAQC;AAAzB,OAAb;AACD;;AAAA;;AAED,WAASC,gBAAT,CAA0BJ,KAA1B,EAAiC;AAC/BA,IAAAA,KAAK,CAACK,cAAN;;AACA,QAAIpB,UAAU,CAACqB,KAAX,IAAoBrB,UAAU,CAACsB,MAAnC,EAA2C;AACzCnC,MAAAA,GAAG,CAACoC,QAAJ,CAAa;AACXF,QAAAA,KAAK,EAAErB,UAAU,CAACqB,KADP;AAEXC,QAAAA,MAAM,EAAEtB,UAAU,CAACsB,MAFR;AAGXE,QAAAA,QAAQ,EAAExB,UAAU,CAACwB;AAHV,OAAb,EAKGpB,IALH,CAKQ,UAAAC,GAAG;AAAA,eAAIQ,SAAS,EAAb;AAAA,OALX,EAMGN,KANH,CAMS,UAAAC,GAAG;AAAA,eAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ;AAAA,OANZ;AAOD;AACF;;AAAA;AAEC,sBACE,oBAAC,SAAD;AAAW,IAAA,KAAK,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAKD;;AAGH,eAAeX,SAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport DeleteBtn from \"../components/DeleteBtn\";\nimport Jumbotron from \"../components/Jumbotron\";\nimport API from \"../utils/API\";\nimport { Link } from \"react-router-dom\";\nimport { Col, Row, Container } from \"../components/Grid\";\nimport { List, ListItem } from \"../components/List\";\nimport { Input, TextArea, FormBtn } from \"../components/Form\";\n\nfunction Dashboard() {\n  const [user, setUser] = useState([])\n  const [formObject, setFormObject] = useState({})\n\n  useEffect(() => {\n    loadUser()\n  }, [])\n\n  function loadUser() {\n    API.getUser()\n      .then(res => \n        setUser(res.data)\n      )\n      .catch(err => console.log(err));\n  };\n\n  function deleteBook(id) {\n    API.deleteBook(id)\n      .then(res => loadBooks())\n      .catch(err => console.log(err));\n  }\n\n  function handleInputChange(event) {\n    const { name, value } = event.target;\n    setFormObject({...formObject, [name]: value})\n  };\n\n  function handleFormSubmit(event) {\n    event.preventDefault();\n    if (formObject.title && formObject.author) {\n      API.saveBook({\n        title: formObject.title,\n        author: formObject.author,\n        synopsis: formObject.synopsis\n      })\n        .then(res => loadBooks())\n        .catch(err => console.log(err));\n    }\n  };\n\n    return (\n      <Container fluid>\n        \n      </Container>\n    );\n  }\n\n\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}